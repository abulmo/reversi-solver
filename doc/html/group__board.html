<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Othello Solver: Board module</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>Board module</h1><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__board.html#ga0">board_set</a> (<a class="el" href="structBoard.html">Board</a> *board, const char *string)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set a board from a string description.  <a href="#ga0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__board.html#ga1">board_check_move</a> (const <a class="el" href="structBoard.html">Board</a> *board, int x, int player)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check move validity.  <a href="#ga1"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__board.html#ga2">board_count_flips</a> (const <a class="el" href="structBoard.html">Board</a> *board, int x, int player)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Count flippable discs.  <a href="#ga2"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__board.html#ga3">board_do_flip</a> (<a class="el" href="structBoard.html">Board</a> *board, int x, <a class="el" href="structMove.html">Move</a> *move)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flip discs on the board.  <a href="#ga3"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__board.html#ga4">board_get_move</a> (const <a class="el" href="structBoard.html">Board</a> *board, int x, <a class="el" href="structMove.html">Move</a> *move)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute a move.  <a href="#ga4"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__board.html#ga5">board_update_move</a> (<a class="el" href="structBoard.html">Board</a> *board, const <a class="el" href="structMove.html">Move</a> *move)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update a board.  <a href="#ga5"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__board.html#ga6">board_restore_move</a> (<a class="el" href="structBoard.html">Board</a> *board, const <a class="el" href="structMove.html">Move</a> *move)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Restore a board.  <a href="#ga6"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__board.html#ga7">board_update_pass</a> (<a class="el" href="structBoard.html">Board</a> *board)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Passing move.  <a href="#ga7"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__board.html#ga8">board_restore_pass</a> (<a class="el" href="structBoard.html">Board</a> *board)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Un-passing.  <a href="#ga8"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__board.html#ga9">board_get_movelist</a> (const <a class="el" href="structBoard.html">Board</a> *board, <a class="el" href="structMoveList.html">MoveList</a> *start)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a list of legal moves.  <a href="#ga9"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__board.html#ga10">board_get_mobility</a> (const <a class="el" href="structBoard.html">Board</a> *board, int player)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Estimate the mobility.  <a href="#ga10"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__board.html#ga11">board_get_corner_stability</a> (<a class="el" href="structBoard.html">Board</a> *board, int player)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Estimate corner stability.  <a href="#ga11"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__board.html#ga12">board_print</a> (<a class="el" href="structBoard.html">Board</a> *board, FILE *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the local parity counters. Print out the board.  <a href="#ga12"></a><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This module deals with the <a class="el" href="structBoard.html">Board</a> management.<p>
The <a class="el" href="structBoard.html">Board</a> is represented with a structure containing the following data:<ul>
<li>a 1-D array with the square contents.</li><li>the player to move.</li><li>the disc number for each players.</li><li>the number of remaining empty squares.</li><li>a list of empty squares for a fast navigation through them.</li><li>hash table codes identifying the board in the hash table.</li><li>a node counter.</li></ul>
<p>
High level functions are provided to set/modify the board data or to compute some board properties. Most of the functions are optimized to be as fast as possible, while remaining readable. <hr><h2>Function Documentation</h2>
<a class="anchor" name="ga1" doxytag="solver.c::board_check_move" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int board_check_move </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structBoard.html">Board</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>board</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>player</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check move validity. 
<p>
Check if a legal move exists on square 'x' for 'player' <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>board</em>&nbsp;</td><td>board to test </td></tr>
    <tr><td valign=top><em>x</em>&nbsp;</td><td>square on which to move. </td></tr>
    <tr><td valign=top><em>player</em>&nbsp;</td><td>player to move. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>1 if a legal move exists, 0 otherwise. </dd></dl>

<p>
<div class="fragment"><pre>00932 {
00933     <span class="keyword">const</span> <span class="keywordtype">char</span> p = player;
00934     <span class="keyword">const</span> <span class="keywordtype">char</span> o = <a class="code" href="group__mac.html#ga50">OPPONENT</a>(p);
00935     <span class="keyword">const</span> <span class="keywordtype">char</span> *square = board-&gt;<a class="code" href="structBoard.html#o0">square</a> + x;
00936 
00937     <span class="keywordflow">switch</span> (<a class="code" href="group__mac.html#ga0">FLIPPING_DIRECTION_ID</a>[x]) {
00938     <span class="keywordflow">case</span> 1:
00939         <span class="keywordflow">return</span>  (<a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>(SE) ||
00940                  <a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>(S ) ||
00941                  <a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>( E));
00942     <span class="keywordflow">case</span> 3:
00943         <span class="keywordflow">return</span>  (<a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>(SW) ||
00944                  <a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>( W) ||
00945                  <a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>(S ));
00946     <span class="keywordflow">case</span> 7:
00947         <span class="keywordflow">return</span>  (<a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>(NE) ||
00948                  <a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>(N ) ||
00949                  <a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>( E));
00950     <span class="keywordflow">case</span> 9:
00951         <span class="keywordflow">return</span>  (<a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>(NW) ||
00952                  <a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>(N ) ||
00953                  <a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>( W));
00954     <span class="keywordflow">case</span> 2:
00955         <span class="keywordflow">return</span>  (<a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>(S ) ||
00956                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(SE) ||
00957                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(SW) ||
00958                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>( E) ||
00959                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>( W));
00960     <span class="keywordflow">case</span> 4:
00961         <span class="keywordflow">return</span>  (<a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>( E) ||
00962                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(NE) ||
00963                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(SE) ||
00964                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(N ) ||
00965                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(S ));
00966     <span class="keywordflow">case</span> 6:
00967         <span class="keywordflow">return</span>  (<a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>( W) ||
00968                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(NW) ||
00969                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(SW) ||
00970                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(S ) ||
00971                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(N ));
00972     <span class="keywordflow">case</span> 8:
00973         <span class="keywordflow">return</span>  (<a class="code" href="group__mac.html#ga30">BOARD_CHECK_MOVE_6</a>(N ) ||
00974                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(NE) ||
00975                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(NW) ||
00976                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>( E) ||
00977                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>( W));
00978     <span class="keywordflow">case</span> 5:
00979         <span class="keywordflow">return</span>  (<a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(N ) ||
00980                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>( E) ||
00981                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(S ) ||
00982                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>( W) ||
00983                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(NE) ||
00984                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(SE) ||
00985                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(NW) ||
00986                  <a class="code" href="group__mac.html#ga31">BOARD_CHECK_MOVE_4</a>(SW));
00987     }
00988     <span class="keywordflow">return</span> 0;
00989 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="ga2" doxytag="solver.c::board_count_flips" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int board_count_flips </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structBoard.html">Board</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>board</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>player</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Count flippable discs. 
<p>
Count how many discs can be flipped (without flipping them). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>board</em>&nbsp;</td><td>board to test </td></tr>
    <tr><td valign=top><em>x</em>&nbsp;</td><td>square on which to move. </td></tr>
    <tr><td valign=top><em>player</em>&nbsp;</td><td>player to move. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the number of disc(s) flipped. </dd></dl>

<p>
<div class="fragment"><pre>01001 {
01002     <span class="keyword">const</span> <span class="keywordtype">char</span> p = player;
01003     <span class="keyword">const</span> <span class="keywordtype">char</span> o = <a class="code" href="group__mac.html#ga50">OPPONENT</a>(p);
01004     <span class="keyword">const</span> <span class="keywordtype">char</span> *square = board-&gt;<a class="code" href="structBoard.html#o0">square</a> + x;
01005     <span class="keywordtype">int</span> n_flips = 0;
01006 
01007     <span class="keywordflow">switch</span> (<a class="code" href="group__mac.html#ga0">FLIPPING_DIRECTION_ID</a>[x]) {
01008     <span class="keywordflow">case</span> 1:
01009         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>( E);
01010         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>(S );
01011         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>(SE);
01012         <span class="keywordflow">break</span>;
01013     <span class="keywordflow">case</span> 3:
01014         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>( W);
01015         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>(SW);
01016         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>(S );
01017         <span class="keywordflow">break</span>;
01018     <span class="keywordflow">case</span> 7:
01019         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>(N );
01020         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>(NE);
01021         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>( E);
01022         <span class="keywordflow">break</span>;
01023     <span class="keywordflow">case</span> 9:
01024         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>(NW);
01025         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>(N );
01026         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>( W);
01027         <span class="keywordflow">break</span>;
01028     <span class="keywordflow">case</span> 2:
01029         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>(S );
01030         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>( W);
01031         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>( E);
01032         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(SW);
01033         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(SE);
01034         <span class="keywordflow">break</span>;
01035     <span class="keywordflow">case</span> 4:
01036         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>( E);
01037         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(N );
01038         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(NE);
01039         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(S );
01040         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(SE);
01041         <span class="keywordflow">break</span>;
01042     <span class="keywordflow">case</span> 6:
01043         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>( W);
01044         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(NW);
01045         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(N );
01046         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(SW);
01047         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(S );
01048         <span class="keywordflow">break</span>;
01049     <span class="keywordflow">case</span> 8:
01050         <a class="code" href="group__mac.html#ga32">BOARD_COUNT_FLIPS_6</a>(N );
01051         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(NW);
01052         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(NE);
01053         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>( W);
01054         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>( E);
01055         <span class="keywordflow">break</span>;
01056     <span class="keywordflow">case</span> 5:
01057         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(NW);
01058         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(N );
01059         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(NE);
01060         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>( W);
01061         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>( E);
01062         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(SW);
01063         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(S );
01064         <a class="code" href="group__mac.html#ga33">BOARD_COUNT_FLIPS_4</a>(SE);
01065         <span class="keywordflow">break</span>;
01066     }
01067     <span class="keywordflow">return</span> n_flips;
01068 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="ga3" doxytag="solver.c::board_do_flip" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int board_do_flip </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structBoard.html">Board</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>board</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structMove.html">Move</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>move</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Flip discs on the board. 
<p>
Modify a board by flipping its discs. Only the square[] and player members are modified. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>board</em>&nbsp;</td><td>board to modify </td></tr>
    <tr><td valign=top><em>x</em>&nbsp;</td><td>square on which to move. </td></tr>
    <tr><td valign=top><em>move</em>&nbsp;</td><td>a <a class="el" href="structMove.html">Move</a> structure remembering the modification. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the number of disc(s) flipped. </dd></dl>

<p>
<div class="fragment"><pre>01081 {
01082     <span class="keyword">const</span> <span class="keywordtype">char</span> p = board-&gt;<a class="code" href="structBoard.html#o1">player</a>;
01083     <span class="keyword">const</span> <span class="keywordtype">char</span> o = <a class="code" href="group__mac.html#ga50">OPPONENT</a>(p);
01084     <span class="keywordtype">char</span> *square = board-&gt;<a class="code" href="structBoard.html#o0">square</a> + x;
01085 
01086     move-&gt;<a class="code" href="structMove.html#o1">n</a> = 0;
01087     <span class="keywordflow">switch</span> (<a class="code" href="group__mac.html#ga0">FLIPPING_DIRECTION_ID</a>[x]) {
01088     <span class="keywordflow">case</span> 1:
01089         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(E , 6);
01090         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>( S, 6);
01091         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(SE, 6);
01092         <span class="keywordflow">break</span>;
01093     <span class="keywordflow">case</span> 3:
01094         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>( W, 6);
01095         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(SW, 6);
01096         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(S , 6);
01097         <span class="keywordflow">break</span>;
01098     <span class="keywordflow">case</span> 7:
01099         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(N , 6);
01100         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(NE, 6);
01101         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>( E, 6);
01102         <span class="keywordflow">break</span>;
01103     <span class="keywordflow">case</span> 9:
01104         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(NW, 6);
01105         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(N , 6);
01106         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>( W, 6);
01107         <span class="keywordflow">break</span>;
01108     <span class="keywordflow">case</span> 2:
01109         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(S , 6);
01110         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>( W, 4);
01111         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>( E, 4);
01112         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(SW, 4);
01113         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(SE, 4);
01114         <span class="keywordflow">break</span>;
01115     <span class="keywordflow">case</span> 4:
01116         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(N , 4);
01117         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(NE, 4);
01118         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>( E, 6);
01119         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(S , 4);
01120         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(SE, 4);
01121         <span class="keywordflow">break</span>;
01122     <span class="keywordflow">case</span> 6:
01123         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(NW, 4);
01124         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(N , 4);
01125         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>( W, 6);
01126         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(SW, 4);
01127         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(S , 4);
01128         <span class="keywordflow">break</span>;
01129     <span class="keywordflow">case</span> 8:
01130         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(NW, 4);
01131         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(N , 6);
01132         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(NE, 4);
01133         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>( W, 4);
01134         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>( E, 4);
01135         <span class="keywordflow">break</span>;
01136     <span class="keywordflow">case</span> 5:
01137         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(NW, 4);
01138         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(N , 4);
01139         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(NE, 4);
01140         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>( W, 4);
01141         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>( E, 4);
01142         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(SW, 4);
01143         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(S , 4);
01144         <a class="code" href="group__mac.html#ga34">BOARD_FLIP</a>(SE, 4);
01145         <span class="keywordflow">break</span>;
01146     }
01147     <span class="keywordflow">if</span> (move-&gt;<a class="code" href="structMove.html#o1">n</a> &gt; 0) {
01148         *move-&gt;<a class="code" href="structMove.html#o0">position</a> = x;
01149         *square = p;
01150         <a class="code" href="group__mac.html#ga38">BOARD_UPDATE_PLAYER</a>(board);
01151         <a class="code" href="group__mac.html#ga26">BOARD_UPDATE_INTERNAL_NODES</a>();
01152     }
01153     <span class="keywordflow">return</span> move-&gt;<a class="code" href="structMove.html#o1">n</a>;
01154 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="ga11" doxytag="solver.c::board_get_corner_stability" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int board_get_corner_stability </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structBoard.html">Board</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>board</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>player</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Estimate corner stability. 
<p>
Count the number of stable discs around the corner. Limiting the count to the corner keep the function fast but still get this information, particularly important at Othello. Corner stability will be used for move sorting. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>board</em>&nbsp;</td><td>: the board. </td></tr>
    <tr><td valign=top><em>player</em>&nbsp;</td><td>: the player. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>: the number of stable discs around the corner. </dd></dl>

<p>
<div class="fragment"><pre>01370 {
01371     <span class="keyword">const</span> <span class="keywordtype">char</span> *square = board-&gt;<a class="code" href="structBoard.html#o0">square</a>;
01372     <span class="keyword">const</span> <span class="keywordtype">char</span> p = player;
01373     <span class="keywordtype">int</span> n_stables = 0;
01374 
01375     <span class="keywordflow">if</span> (square[<a class="code" href="group__mac.html#gga56a58">A1</a>] == p) {
01376         n_stables++;
01377         <span class="keywordflow">if</span> (square[<a class="code" href="group__mac.html#gga56a59">B1</a>] == p) n_stables++;
01378         <span class="keywordflow">if</span> (square[<a class="code" href="group__mac.html#gga56a66">A2</a>] == p) n_stables++;
01379     }
01380     <span class="keywordflow">if</span> (square[<a class="code" href="group__mac.html#gga56a114">A8</a>] == p) {
01381         n_stables++;
01382         <span class="keywordflow">if</span> (square[<a class="code" href="group__mac.html#gga56a115">B8</a>] == p) n_stables++;
01383         <span class="keywordflow">if</span> (square[<a class="code" href="group__mac.html#gga56a106">A7</a>] == p) n_stables++;
01384     }
01385     <span class="keywordflow">if</span> (square[<a class="code" href="group__mac.html#gga56a65">H1</a>] == p) {
01386         n_stables++;
01387         <span class="keywordflow">if</span> (square[<a class="code" href="group__mac.html#gga56a64">G1</a>] == p) n_stables++;
01388         <span class="keywordflow">if</span> (square[<a class="code" href="group__mac.html#gga56a73">H2</a>] == p) n_stables++;
01389     }
01390     <span class="keywordflow">if</span> (square[<a class="code" href="group__mac.html#gga56a121">H8</a>] == p) {
01391         n_stables++;
01392         <span class="keywordflow">if</span> (square[<a class="code" href="group__mac.html#gga56a120">G8</a>] == p) n_stables++;
01393         <span class="keywordflow">if</span> (square[<a class="code" href="group__mac.html#gga56a113">H7</a>] == p) n_stables++;
01394     }
01395 
01396     <span class="keywordflow">return</span> n_stables;
01397 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="ga10" doxytag="solver.c::board_get_mobility" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int board_get_mobility </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structBoard.html">Board</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>board</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>player</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Estimate the mobility. 
<p>
Count a number of legal moves for a player. The mobility is an important concept in Othello, used here for move sorting. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>board</em>&nbsp;</td><td>: the board to test. </td></tr>
    <tr><td valign=top><em>player</em>&nbsp;</td><td>: the player to test. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>: the number of legal moves. </dd></dl>

<p>
<div class="fragment"><pre>01346 {
01347     <a class="code" href="structSquareList.html">SquareList</a> *empties;
01348     <span class="keywordtype">int</span> n_moves = 0;
01349 
01350     <span class="keywordflow">for</span> (empties = board-&gt;<a class="code" href="structBoard.html#o7">empties</a>-&gt;<a class="code" href="structSquareList.html#o2">next</a>; empties-&gt;<a class="code" href="structSquareList.html#o0">position</a> != <a class="code" href="group__mac.html#gga56a56">NOMOVE</a>; empties = empties-&gt;<a class="code" href="structSquareList.html#o2">next</a>) {
01351         <span class="keywordflow">if</span> (<a class="code" href="group__board.html#ga1">board_check_move</a>(board, empties-&gt;<a class="code" href="structSquareList.html#o0">position</a>, player))
01352             n_moves++;
01353     }
01354 
01355     <span class="keywordflow">return</span> n_moves;
01356 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="ga4" doxytag="solver.c::board_get_move" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int board_get_move </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structBoard.html">Board</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>board</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structMove.html">Move</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>move</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Compute a move. 
<p>
Compute how the board will be modified by a move without playing it. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>board</em>&nbsp;</td><td>board </td></tr>
    <tr><td valign=top><em>x</em>&nbsp;</td><td>square on which to move. </td></tr>
    <tr><td valign=top><em>move</em>&nbsp;</td><td>a <a class="el" href="structMove.html">Move</a> structure remembering the modification. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the number of disc(s) flipped. </dd></dl>

<p>
<div class="fragment"><pre>01166 {
01167     <span class="keyword">const</span> <span class="keywordtype">char</span> p = board-&gt;<a class="code" href="structBoard.html#o1">player</a>;
01168     <span class="keyword">const</span> <span class="keywordtype">char</span> o = <a class="code" href="group__mac.html#ga50">OPPONENT</a>(p);
01169     <span class="keyword">const</span> <span class="keywordtype">char</span> *square = board-&gt;<a class="code" href="structBoard.html#o0">square</a> + x;
01170 
01171     move-&gt;<a class="code" href="structMove.html#o1">n</a> = 0;
01172     move-&gt;<a class="code" href="structMove.html#o3">hash_code</a>[0] = hash_code_set_disc[x][(<span class="keywordtype">int</span>)p][0];
01173     move-&gt;<a class="code" href="structMove.html#o3">hash_code</a>[1] = hash_code_set_disc[x][(<span class="keywordtype">int</span>)p][1];
01174     <span class="keywordflow">switch</span> (<a class="code" href="group__mac.html#ga0">FLIPPING_DIRECTION_ID</a>[x]) {
01175     <span class="keywordflow">case</span> 1:
01176         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>( E, 6);
01177         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(S , 6);
01178         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(SE, 6);
01179         <span class="keywordflow">break</span>;
01180     <span class="keywordflow">case</span> 3:
01181         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>( W, 6);
01182         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(SW, 6);
01183         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(S , 6);
01184         <span class="keywordflow">break</span>;
01185     <span class="keywordflow">case</span> 7:
01186         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(N , 6);
01187         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(NE, 6);
01188         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>( E, 6);
01189         <span class="keywordflow">break</span>;
01190     <span class="keywordflow">case</span> 9:
01191         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(NW, 6);
01192         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(N , 6);
01193         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>( W, 6);
01194         <span class="keywordflow">break</span>;
01195     <span class="keywordflow">case</span> 2:
01196         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>( W, 4);
01197         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>( E, 4);
01198         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(SW, 4);
01199         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(S , 6);
01200         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(SE, 4);
01201         <span class="keywordflow">break</span>;
01202     <span class="keywordflow">case</span> 4:
01203         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(N , 4);
01204         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(NE, 4);
01205         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>( E, 6);
01206         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(S , 4);
01207         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(SE, 4);
01208         <span class="keywordflow">break</span>;
01209     <span class="keywordflow">case</span> 6:
01210         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(NW, 4);
01211         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(N , 4);
01212         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>( W, 6);
01213         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(SW, 4);
01214         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(S , 4);
01215         <span class="keywordflow">break</span>;
01216     <span class="keywordflow">case</span> 8:
01217         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(NW, 4);
01218         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(N , 6);
01219         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(NE, 4);
01220         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>( W, 4);
01221         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>( E, 4);
01222         <span class="keywordflow">break</span>;
01223     <span class="keywordflow">case</span> 5:
01224         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(NW, 4);
01225         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(N , 4);
01226         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(NE, 4);
01227         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>( W, 4);
01228         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>( E, 4);
01229         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(SW, 4);
01230         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(S , 4);
01231         <a class="code" href="group__mac.html#ga35">BOARD_GET_MOVE</a>(SE, 4);
01232         <span class="keywordflow">break</span>;
01233     }
01234     <span class="keywordflow">if</span> (move-&gt;<a class="code" href="structMove.html#o1">n</a>&gt;0) {
01235         *move-&gt;<a class="code" href="structMove.html#o0">position</a> = x;
01236     }
01237 
01238     <span class="keywordflow">return</span> move-&gt;<a class="code" href="structMove.html#o1">n</a>;
01239 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="ga9" doxytag="solver.c::board_get_movelist" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void board_get_movelist </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structBoard.html">Board</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>board</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structMoveList.html">MoveList</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>start</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get a list of legal moves. 
<p>
Compute the complete list of legal moves and store it into a simple linked list, to fasten ulterior move sorting. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>board</em>&nbsp;</td><td>: the board to check </td></tr>
    <tr><td valign=top><em>start</em>&nbsp;</td><td>: start point of the linked-list that will received the legal moves. </td></tr>
  </table>
</dl>

<p>
<div class="fragment"><pre>01323 {
01324     <a class="code" href="structMoveList.html">MoveList</a> *list = start + 1, *previous = start;
01325     <a class="code" href="structSquareList.html">SquareList</a> *empties;
01326 
01327     <span class="keywordflow">for</span> (empties = board-&gt;<a class="code" href="structBoard.html#o7">empties</a>-&gt;<a class="code" href="structSquareList.html#o2">next</a>; empties-&gt;<a class="code" href="structSquareList.html#o0">position</a> != <a class="code" href="group__mac.html#gga56a56">NOMOVE</a>; empties = empties-&gt;<a class="code" href="structSquareList.html#o2">next</a>) {
01328         <span class="keywordflow">if</span> (<a class="code" href="group__board.html#ga4">board_get_move</a>(board, empties-&gt;<a class="code" href="structSquareList.html#o0">position</a>, &amp;(list-&gt;<a class="code" href="structMoveList.html#o0">move</a>))) {
01329             previous = previous-&gt;<a class="code" href="structMoveList.html#o1">next</a> = list;
01330             list++;
01331         }
01332     }
01333     previous-&gt;<a class="code" href="structMoveList.html#o1">next</a> = NULL;
01334 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="ga12" doxytag="solver.c::board_print" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void board_print </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structBoard.html">Board</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>board</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>FILE *&nbsp;</td>
          <td class="mdname" nowrap> <em>f</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize the local parity counters. Print out the board. 
<p>
Print an ASCII representation of the board to an output stream. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>board</em>&nbsp;</td><td>: board to print. </td></tr>
    <tr><td valign=top><em>f</em>&nbsp;</td><td>: output stream. </td></tr>
  </table>
</dl>

<p>
<div class="fragment"><pre>01430 {
01431     <span class="keywordtype">int</span> i, j, square, x;
01432     <span class="keywordtype">char</span> *color = <span class="stringliteral">"*O-.?"</span>;
01433 
01434     fputs(<span class="stringliteral">"  A B C D E F G H\n"</span>, f);
01435     <span class="keywordflow">for</span> (i = 1; i &lt;= 8; i++) {
01436         fputc(i + <span class="charliteral">'0'</span>, f);
01437         fputc(<span class="charliteral">' '</span>, f);
01438         <span class="keywordflow">for</span> (j = 1; j &lt;= 8; j++) {
01439             x = i * 9 + j;
01440             square = (<span class="keywordtype">int</span>)board-&gt;<a class="code" href="structBoard.html#o0">square</a>[x];
01441             <span class="keywordflow">if</span> (square == <a class="code" href="group__mac.html#gga58a132">EMPTY</a> &amp;&amp; <a class="code" href="group__board.html#ga1">board_check_move</a>(board, x, board-&gt;<a class="code" href="structBoard.html#o1">player</a>))
01442                 square++;
01443             fputc(color[square], f);
01444             fputc(<span class="charliteral">' '</span>, f);
01445         }
01446         fputc(i+<span class="charliteral">'0'</span>, f);
01447         <span class="keywordflow">if</span> (i == 2)
01448             fprintf(f, <span class="stringliteral">" %c to move"</span>, color[(<span class="keywordtype">int</span>)board-&gt;<a class="code" href="structBoard.html#o1">player</a>]);
01449         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i == 4)
01450             fprintf(f, <span class="stringliteral">" *: discs = %2d    moves = %2d"</span>,
01451                 board-&gt;<a class="code" href="structBoard.html#o2">n_discs</a>[BLACK], <a class="code" href="group__board.html#ga10">board_get_mobility</a>(board, BLACK));
01452         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i == 5)
01453             fprintf(f, <span class="stringliteral">" O: discs = %2d    moves = %2d"</span>,
01454                 board-&gt;<a class="code" href="structBoard.html#o2">n_discs</a>[WHITE], <a class="code" href="group__board.html#ga10">board_get_mobility</a>(board, WHITE));
01455         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i == 6)
01456             fprintf(f, <span class="stringliteral">"  empties = %2d      ply = %2d"</span>,
01457                 board-&gt;<a class="code" href="structBoard.html#o3">n_empties</a>, 61-board-&gt;<a class="code" href="structBoard.html#o3">n_empties</a>);
01458         fputc(<span class="charliteral">'\n'</span>, f);
01459     }
01460     fputs(<span class="stringliteral">"  A B C D E F G H\n"</span>, f);
01461 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="ga6" doxytag="solver.c::board_restore_move" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void board_restore_move </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structBoard.html">Board</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>board</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="structMove.html">Move</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>move</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Restore a board. 
<p>
Restore a board by un-flipping its discs and restoring every other data, according to the 'move' description, in order to cancel a board_update_move. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>board</em>&nbsp;</td><td>: board to restore. </td></tr>
    <tr><td valign=top><em>move</em>&nbsp;</td><td>: a <a class="el" href="structMove.html">Move</a> structure describing the modification. </td></tr>
  </table>
</dl>

<p>
<div class="fragment"><pre>01273 {
01274     <span class="keyword">const</span> <span class="keywordtype">char</span> o = board-&gt;<a class="code" href="structBoard.html#o1">player</a>;
01275     <span class="keyword">const</span> <span class="keywordtype">char</span> p = <a class="code" href="group__mac.html#ga50">OPPONENT</a>(o);
01276     <a class="code" href="structSquareList.html">SquareList</a> *empties;
01277 
01278     <a class="code" href="group__mac.html#ga37">BOARD_RESTORE_SQUARE</a>(board, move);
01279     <a class="code" href="group__mac.html#ga39">BOARD_RESTORE_PLAYER</a>(board);
01280     <a class="code" href="group__mac.html#ga41">BOARD_RESTORE_DISCS</a>(board, move-&gt;<a class="code" href="structMove.html#o1">n</a>);
01281     <a class="code" href="group__mac.html#ga49">BOARD_RESTORE_HASH_CODE</a>(board, move-&gt;<a class="code" href="structMove.html#o3">hash_code</a>);
01282     <a class="code" href="group__mac.html#ga43">BOARD_RESTORE_PARITY</a>(board, *move-&gt;<a class="code" href="structMove.html#o0">position</a>);
01283     <a class="code" href="group__mac.html#ga45">BOARD_RESTORE_EMPTIES</a>(board, empties, *move-&gt;<a class="code" href="structMove.html#o0">position</a>);
01284 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="ga8" doxytag="solver.c::board_restore_pass" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void board_restore_pass </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structBoard.html">Board</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>board</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Un-passing. 
<p>
Restore a board by un-passing player's turn. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>board</em>&nbsp;</td><td>: board to restore. </td></tr>
  </table>
</dl>

<p>
<div class="fragment"><pre>01307 {
01308     <span class="keyword">const</span> <span class="keywordtype">char</span> p = <a class="code" href="group__mac.html#ga50">OPPONENT</a>(board-&gt;<a class="code" href="structBoard.html#o1">player</a>);
01309     <a class="code" href="group__mac.html#ga39">BOARD_RESTORE_PLAYER</a>(board);
01310     <a class="code" href="group__mac.html#ga49">BOARD_RESTORE_HASH_CODE</a>(board, hash_code_swap_player);
01311 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="ga0" doxytag="solver.c::board_set" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void board_set </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structBoard.html">Board</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>board</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>string</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set a board from a string description. 
<p>
Read a standardized string (See <a href="http://www.nada.kth.se/~gunnar/download2.html">http://www.nada.kth.se/~gunnar/download2.html</a> for details) and translate it into our internal <a class="el" href="structBoard.html">Board</a> structure. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>board</em>&nbsp;</td><td>: the board to set </td></tr>
    <tr><td valign=top><em>string</em>&nbsp;</td><td>: string describing the board </td></tr>
  </table>
</dl>

<p>
<div class="fragment"><pre>00803 {
00804     <span class="keywordtype">int</span> i, j;
00805     <a class="code" href="structSquareList.html">SquareList</a> *empties;
00806 <span class="preprocessor">#if USE_PRESORTED_SQUARES</span>
00807 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">int</span> presorted_position[] = {
00808         <a class="code" href="group__mac.html#gga56a58">A1</a>, <a class="code" href="group__mac.html#gga56a114">A8</a>, <a class="code" href="group__mac.html#gga56a65">H1</a>, <a class="code" href="group__mac.html#gga56a121">H8</a>,                    <span class="comment">/* Corner */</span>
00809         <a class="code" href="group__mac.html#gga56a74">A3</a>, <a class="code" href="group__mac.html#gga56a98">A6</a>, <a class="code" href="group__mac.html#gga56a60">C1</a>, <a class="code" href="group__mac.html#gga56a116">C8</a>, <a class="code" href="group__mac.html#gga56a63">F1</a>, <a class="code" href="group__mac.html#gga56a119">F8</a>, <a class="code" href="group__mac.html#gga56a81">H3</a>, <a class="code" href="group__mac.html#gga56a105">H6</a>,    <span class="comment">/* A */</span>
00810         <a class="code" href="group__mac.html#gga56a76">C3</a>, <a class="code" href="group__mac.html#gga56a100">C6</a>, <a class="code" href="group__mac.html#gga56a79">F3</a>, <a class="code" href="group__mac.html#gga56a103">F6</a>,                    <span class="comment">/* D */</span>
00811         <a class="code" href="group__mac.html#gga56a82">A4</a>, <a class="code" href="group__mac.html#gga56a90">A5</a>, <a class="code" href="group__mac.html#gga56a61">D1</a>, <a class="code" href="group__mac.html#gga56a117">D8</a>, <a class="code" href="group__mac.html#gga56a62">E1</a>, <a class="code" href="group__mac.html#gga56a118">E8</a>, <a class="code" href="group__mac.html#gga56a89">H4</a>, <a class="code" href="group__mac.html#gga56a97">H5</a>,    <span class="comment">/* B */</span>
00812         <a class="code" href="group__mac.html#gga56a84">C4</a>, <a class="code" href="group__mac.html#gga56a92">C5</a>, <a class="code" href="group__mac.html#gga56a77">D3</a>, <a class="code" href="group__mac.html#gga56a101">D6</a>, <a class="code" href="group__mac.html#gga56a78">E3</a>, <a class="code" href="group__mac.html#gga56a102">E6</a>, <a class="code" href="group__mac.html#gga56a87">F4</a>, <a class="code" href="group__mac.html#gga56a95">F5</a>,    <span class="comment">/* E */</span>
00813         <a class="code" href="group__mac.html#gga56a83">B4</a>, <a class="code" href="group__mac.html#gga56a91">B5</a>, <a class="code" href="group__mac.html#gga56a69">D2</a>, <a class="code" href="group__mac.html#gga56a109">D7</a>, <a class="code" href="group__mac.html#gga56a70">E2</a>, <a class="code" href="group__mac.html#gga56a110">E7</a>, <a class="code" href="group__mac.html#gga56a88">G4</a>, <a class="code" href="group__mac.html#gga56a96">G5</a>,    <span class="comment">/* G */</span>
00814         <a class="code" href="group__mac.html#gga56a75">B3</a>, <a class="code" href="group__mac.html#gga56a99">B6</a>, <a class="code" href="group__mac.html#gga56a68">C2</a>, <a class="code" href="group__mac.html#gga56a108">C7</a>, <a class="code" href="group__mac.html#gga56a71">F2</a>, <a class="code" href="group__mac.html#gga56a111">F7</a>, <a class="code" href="group__mac.html#gga56a80">G3</a>, <a class="code" href="group__mac.html#gga56a104">G6</a>,    <span class="comment">/* F */</span>
00815         <a class="code" href="group__mac.html#gga56a66">A2</a>, <a class="code" href="group__mac.html#gga56a106">A7</a>, <a class="code" href="group__mac.html#gga56a59">B1</a>, <a class="code" href="group__mac.html#gga56a115">B8</a>, <a class="code" href="group__mac.html#gga56a64">G1</a>, <a class="code" href="group__mac.html#gga56a120">G8</a>, <a class="code" href="group__mac.html#gga56a73">H2</a>, <a class="code" href="group__mac.html#gga56a113">H7</a>,    <span class="comment">/* C */</span>
00816         <a class="code" href="group__mac.html#gga56a67">B2</a>, <a class="code" href="group__mac.html#gga56a107">B7</a>, <a class="code" href="group__mac.html#gga56a72">G2</a>, <a class="code" href="group__mac.html#gga56a112">G7</a>,                    <span class="comment">/* X */</span>
00817     };
00818 <span class="preprocessor">#else</span>
00819 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">int</span> presorted_position[] = {     <span class="comment">/* A1 -&gt; H8 */</span>
00820         <a class="code" href="group__mac.html#gga56a58">A1</a>, <a class="code" href="group__mac.html#gga56a66">A2</a>, <a class="code" href="group__mac.html#gga56a74">A3</a>, <a class="code" href="group__mac.html#gga56a82">A4</a>, <a class="code" href="group__mac.html#gga56a90">A5</a>, <a class="code" href="group__mac.html#gga56a98">A6</a>, <a class="code" href="group__mac.html#gga56a106">A7</a>, <a class="code" href="group__mac.html#gga56a114">A8</a>,
00821         <a class="code" href="group__mac.html#gga56a59">B1</a>, <a class="code" href="group__mac.html#gga56a67">B2</a>, <a class="code" href="group__mac.html#gga56a75">B3</a>, <a class="code" href="group__mac.html#gga56a83">B4</a>, <a class="code" href="group__mac.html#gga56a91">B5</a>, <a class="code" href="group__mac.html#gga56a99">B6</a>, <a class="code" href="group__mac.html#gga56a107">B7</a>, <a class="code" href="group__mac.html#gga56a115">B8</a>,
00822         <a class="code" href="group__mac.html#gga56a60">C1</a>, <a class="code" href="group__mac.html#gga56a68">C2</a>, <a class="code" href="group__mac.html#gga56a76">C3</a>, <a class="code" href="group__mac.html#gga56a84">C4</a>, <a class="code" href="group__mac.html#gga56a92">C5</a>, <a class="code" href="group__mac.html#gga56a100">C6</a>, <a class="code" href="group__mac.html#gga56a108">C7</a>, <a class="code" href="group__mac.html#gga56a116">C8</a>,
00823         <a class="code" href="group__mac.html#gga56a61">D1</a>, <a class="code" href="group__mac.html#gga56a69">D2</a>, <a class="code" href="group__mac.html#gga56a77">D3</a>,         <a class="code" href="group__mac.html#gga56a101">D6</a>, <a class="code" href="group__mac.html#gga56a109">D7</a>, <a class="code" href="group__mac.html#gga56a117">D8</a>,
00824         <a class="code" href="group__mac.html#gga56a62">E1</a>, <a class="code" href="group__mac.html#gga56a70">E2</a>, <a class="code" href="group__mac.html#gga56a78">E3</a>,         <a class="code" href="group__mac.html#gga56a102">E6</a>, <a class="code" href="group__mac.html#gga56a110">E7</a>, <a class="code" href="group__mac.html#gga56a118">E8</a>,
00825         <a class="code" href="group__mac.html#gga56a63">F1</a>, <a class="code" href="group__mac.html#gga56a71">F2</a>, <a class="code" href="group__mac.html#gga56a79">F3</a>, <a class="code" href="group__mac.html#gga56a87">F4</a>, <a class="code" href="group__mac.html#gga56a95">F5</a>, <a class="code" href="group__mac.html#gga56a103">F6</a>, <a class="code" href="group__mac.html#gga56a111">F7</a>, <a class="code" href="group__mac.html#gga56a119">F8</a>,
00826         <a class="code" href="group__mac.html#gga56a64">G1</a>, <a class="code" href="group__mac.html#gga56a72">G2</a>, <a class="code" href="group__mac.html#gga56a80">G3</a>, <a class="code" href="group__mac.html#gga56a88">G4</a>, <a class="code" href="group__mac.html#gga56a96">G5</a>, <a class="code" href="group__mac.html#gga56a104">G6</a>, <a class="code" href="group__mac.html#gga56a112">G7</a>, <a class="code" href="group__mac.html#gga56a120">G8</a>,
00827         <a class="code" href="group__mac.html#gga56a65">H1</a>, <a class="code" href="group__mac.html#gga56a73">H2</a>, <a class="code" href="group__mac.html#gga56a81">H3</a>, <a class="code" href="group__mac.html#gga56a89">H4</a>, <a class="code" href="group__mac.html#gga56a97">H5</a>, <a class="code" href="group__mac.html#gga56a105">H6</a>, <a class="code" href="group__mac.html#gga56a113">H7</a>, <a class="code" href="group__mac.html#gga56a121">H8</a>
00828     };
00829 <span class="preprocessor">#endif</span>
00830 <span class="preprocessor"></span>
00831     <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="group__mac.html#ga22">BOARD_SIZE</a>; i++) board-&gt;<a class="code" href="structBoard.html#o0">square</a>[i] = <a class="code" href="group__mac.html#gga58a133">OFF_SIDE</a>;
00832     board-&gt;<a class="code" href="structBoard.html#o2">n_discs</a>[<a class="code" href="group__mac.html#gga58a130">BLACK</a>] = board-&gt;<a class="code" href="structBoard.html#o2">n_discs</a>[<a class="code" href="group__mac.html#gga58a131">WHITE</a>] = board-&gt;<a class="code" href="structBoard.html#o3">n_empties</a> = 0;
00833     <span class="keywordflow">for</span> (i = <a class="code" href="group__mac.html#gga56a58">A1</a>; i &lt;= <a class="code" href="group__mac.html#gga56a121">H8</a>; i += 9)
00834     <span class="keywordflow">for</span> (j = i; j &lt; i + 8; j++) {
00835         <span class="keywordflow">if</span> (*string == <span class="charliteral">'\0'</span>) <span class="keywordflow">break</span>;
00836         <span class="keywordflow">switch</span> (tolower(*string)) {
00837         <span class="keywordflow">case</span> <span class="charliteral">'b'</span>:
00838         <span class="keywordflow">case</span> <span class="charliteral">'x'</span>:
00839         <span class="keywordflow">case</span> <span class="charliteral">'*'</span>:
00840             board-&gt;<a class="code" href="structBoard.html#o0">square</a>[j] = <a class="code" href="group__mac.html#gga58a130">BLACK</a>;
00841             board-&gt;<a class="code" href="structBoard.html#o2">n_discs</a>[<a class="code" href="group__mac.html#gga58a130">BLACK</a>]++;
00842             <span class="keywordflow">break</span>;
00843         <span class="keywordflow">case</span> <span class="charliteral">'o'</span>:
00844         <span class="keywordflow">case</span> <span class="charliteral">'w'</span>:
00845             board-&gt;<a class="code" href="structBoard.html#o0">square</a>[j] = <a class="code" href="group__mac.html#gga58a131">WHITE</a>;
00846             board-&gt;<a class="code" href="structBoard.html#o2">n_discs</a>[<a class="code" href="group__mac.html#gga58a131">WHITE</a>]++;
00847             <span class="keywordflow">break</span>;
00848         <span class="keywordflow">case</span> <span class="charliteral">'-'</span>:
00849         <span class="keywordflow">case</span> <span class="charliteral">'.'</span>:
00850             board-&gt;<a class="code" href="structBoard.html#o0">square</a>[j] = <a class="code" href="group__mac.html#gga58a132">EMPTY</a>;
00851             board-&gt;<a class="code" href="structBoard.html#o3">n_empties</a>++;
00852             <span class="keywordflow">break</span>;
00853         <span class="keywordflow">default</span>:
00854             j--;
00855             <span class="keywordflow">break</span>;
00856         }
00857         string++;
00858     }
00859 
00860     board-&gt;<a class="code" href="structBoard.html#o1">player</a> = <a class="code" href="group__mac.html#gga58a132">EMPTY</a>;
00861     <span class="keywordflow">for</span> (;*string != <span class="charliteral">'\0'</span> &amp;&amp; board-&gt;<a class="code" href="structBoard.html#o1">player</a> == <a class="code" href="group__mac.html#gga58a132">EMPTY</a>; string++) {
00862         <span class="keywordflow">switch</span> (tolower(*string)) {
00863         <span class="keywordflow">case</span> <span class="charliteral">'b'</span>:
00864         <span class="keywordflow">case</span> <span class="charliteral">'x'</span>:
00865         <span class="keywordflow">case</span> <span class="charliteral">'*'</span>:
00866             board-&gt;<a class="code" href="structBoard.html#o1">player</a> = <a class="code" href="group__mac.html#gga58a130">BLACK</a>;
00867             <span class="keywordflow">break</span>;
00868         <span class="keywordflow">case</span> <span class="charliteral">'o'</span>:
00869         <span class="keywordflow">case</span> <span class="charliteral">'w'</span>:
00870             board-&gt;<a class="code" href="structBoard.html#o1">player</a> = <a class="code" href="group__mac.html#gga58a131">WHITE</a>;
00871             <span class="keywordflow">break</span>;
00872         <span class="keywordflow">default</span>:
00873             <span class="keywordflow">break</span>;
00874         }
00875     }
00876     <span class="keywordflow">if</span> (board-&gt;<a class="code" href="structBoard.html#o1">player</a> == <a class="code" href="group__mac.html#gga58a132">EMPTY</a>) {
00877         fprintf(stderr, <span class="stringliteral">"board_set: incorrect player value '%c'\n"</span>, *string);
00878         exit(EXIT_FAILURE);
00879     }
00880 
00881     <span class="comment">/* init Empties */</span>
00882     empties = board-&gt;<a class="code" href="structBoard.html#o7">empties</a>;
00883     empties-&gt;<a class="code" href="structSquareList.html#o0">position</a> = <a class="code" href="group__mac.html#gga56a56">NOMOVE</a>; <span class="comment">/* sentinel */</span>
00884     empties-&gt;<a class="code" href="structSquareList.html#o1">previous</a> = NULL;
00885     empties-&gt;<a class="code" href="structSquareList.html#o2">next</a> = empties + 1;
00886     empties = empties-&gt;<a class="code" href="structSquareList.html#o2">next</a>;
00887     <span class="keywordflow">for</span> (i = 0; i &lt; 60; i++) {    <span class="comment">/* add empty squares */</span>
00888         <span class="keywordflow">if</span> (board-&gt;<a class="code" href="structBoard.html#o0">square</a>[presorted_position[i]] == <a class="code" href="group__mac.html#gga58a132">EMPTY</a>) {
00889             empties-&gt;<a class="code" href="structSquareList.html#o0">position</a> = presorted_position[i];
00890             empties-&gt;<a class="code" href="structSquareList.html#o1">previous</a> = empties - 1;
00891             empties-&gt;<a class="code" href="structSquareList.html#o2">next</a> = empties + 1;
00892             board-&gt;<a class="code" href="structBoard.html#o8">position_to_empties</a>[presorted_position[i]] = empties;
00893             empties = empties-&gt;<a class="code" href="structSquareList.html#o2">next</a>;
00894         }
00895     }
00896     empties-&gt;<a class="code" href="structSquareList.html#o0">position</a> = <a class="code" href="group__mac.html#gga56a56">NOMOVE</a>; <span class="comment">/* sentinel */</span>
00897     empties-&gt;<a class="code" href="structSquareList.html#o1">previous</a> = empties - 1;
00898     empties-&gt;<a class="code" href="structSquareList.html#o2">next</a> = NULL;
00899 
00900     <span class="comment">/* set hash_code */</span>
00901     board-&gt;<a class="code" href="structBoard.html#o5">hash_code</a>[0] = board-&gt;<a class="code" href="structBoard.html#o5">hash_code</a>[1] = 0;
00902     <span class="keywordflow">if</span> ((board-&gt;<a class="code" href="structBoard.html#o1">player</a> == <a class="code" href="group__mac.html#gga58a131">WHITE</a>) ^ ((board-&gt;<a class="code" href="structBoard.html#o3">n_empties</a> &amp; 1) == 1)) {
00903         board-&gt;<a class="code" href="structBoard.html#o5">hash_code</a>[0] ^= hash_code_swap_player[0];
00904         board-&gt;<a class="code" href="structBoard.html#o5">hash_code</a>[1] ^= hash_code_swap_player[1];
00905     }
00906     <span class="keywordflow">for</span> (i = <a class="code" href="group__mac.html#gga56a58">A1</a>; i &lt;= <a class="code" href="group__mac.html#gga56a121">H8</a>; i += 9)
00907     <span class="keywordflow">for</span> (j = i; j &lt; i + 8; j++) {
00908         board-&gt;<a class="code" href="structBoard.html#o5">hash_code</a>[0] ^= hash_code_set_disc[j][(<span class="keywordtype">int</span>)board-&gt;<a class="code" href="structBoard.html#o0">square</a>[j]][0];
00909         board-&gt;<a class="code" href="structBoard.html#o5">hash_code</a>[1] ^= hash_code_set_disc[j][(<span class="keywordtype">int</span>)board-&gt;<a class="code" href="structBoard.html#o0">square</a>[j]][1];
00910     }
00911 
00912     <span class="comment">/* init parity */</span>
00913     board-&gt;<a class="code" href="structBoard.html#o6">parity</a>[0] = board-&gt;<a class="code" href="structBoard.html#o6">parity</a>[1] = board-&gt;<a class="code" href="structBoard.html#o6">parity</a>[2] = board-&gt;<a class="code" href="structBoard.html#o6">parity</a>[3] = 0;
00914     <span class="keywordflow">for</span> (empties = board-&gt;<a class="code" href="structBoard.html#o7">empties</a>-&gt;<a class="code" href="structSquareList.html#o2">next</a>; empties-&gt;<a class="code" href="structSquareList.html#o0">position</a> != <a class="code" href="group__mac.html#gga56a56">NOMOVE</a>; empties = empties-&gt;<a class="code" href="structSquareList.html#o2">next</a>) {
00915         board-&gt;<a class="code" href="structBoard.html#o6">parity</a>[<a class="code" href="group__mac.html#ga1">QUADRANT_ID</a>[empties-&gt;<a class="code" href="structSquareList.html#o0">position</a>]] ^= 1;
00916     }
00917 
00918     <span class="comment">/* nodes */</span>
00919     board-&gt;<a class="code" href="structBoard.html#o4">n_nodes</a> = 0;
00920 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="ga5" doxytag="solver.c::board_update_move" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void board_update_move </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structBoard.html">Board</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>board</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="structMove.html">Move</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>move</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Update a board. 
<p>
Update a board by flipping its discs and updating every other data, according to the 'move' description. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>board</em>&nbsp;</td><td>: the board to modify </td></tr>
    <tr><td valign=top><em>move</em>&nbsp;</td><td>: A <a class="el" href="structMove.html">Move</a> structure describing the modification. </td></tr>
  </table>
</dl>

<p>
<div class="fragment"><pre>01250 {
01251     <span class="keyword">const</span> <span class="keywordtype">char</span> p = board-&gt;<a class="code" href="structBoard.html#o1">player</a>;
01252     <span class="keyword">const</span> <span class="keywordtype">char</span> o = <a class="code" href="group__mac.html#ga50">OPPONENT</a>(p);
01253     <a class="code" href="structSquareList.html">SquareList</a> *empties;
01254 
01255     <a class="code" href="group__mac.html#ga36">BOARD_UPDATE_SQUARE</a>(board, move);
01256     <a class="code" href="group__mac.html#ga38">BOARD_UPDATE_PLAYER</a>(board);
01257     <a class="code" href="group__mac.html#ga40">BOARD_UPDATE_DISCS</a>(board, move-&gt;<a class="code" href="structMove.html#o1">n</a>);
01258     <a class="code" href="group__mac.html#ga26">BOARD_UPDATE_INTERNAL_NODES</a>();
01259     <a class="code" href="group__mac.html#ga48">BOARD_UPDATE_HASH_CODE</a>(board, move-&gt;<a class="code" href="structMove.html#o3">hash_code</a>);
01260     <a class="code" href="group__mac.html#ga42">BOARD_UPDATE_PARITY</a>(board, *move-&gt;<a class="code" href="structMove.html#o0">position</a>);
01261     <a class="code" href="group__mac.html#ga44">BOARD_UPDATE_EMPTIES</a>(board, empties, *move-&gt;<a class="code" href="structMove.html#o0">position</a>);
01262 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="ga7" doxytag="solver.c::board_update_pass" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void board_update_pass </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structBoard.html">Board</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>board</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Passing move. 
<p>
Modify a board by passing player's turn. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>board</em>&nbsp;</td><td>: board to update. </td></tr>
  </table>
</dl>

<p>
<div class="fragment"><pre>01293 {
01294     <span class="keyword">const</span> <span class="keywordtype">char</span> o = <a class="code" href="group__mac.html#ga50">OPPONENT</a>(board-&gt;<a class="code" href="structBoard.html#o1">player</a>);
01295     <a class="code" href="group__mac.html#ga38">BOARD_UPDATE_PLAYER</a>(board);
01296     <a class="code" href="group__mac.html#ga26">BOARD_UPDATE_INTERNAL_NODES</a>();
01297     <a class="code" href="group__mac.html#ga48">BOARD_UPDATE_HASH_CODE</a>(board, hash_code_swap_player);
01298 }
</pre></div>    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Mon Apr 12 19:31:52 2004 for Othello Solver by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
